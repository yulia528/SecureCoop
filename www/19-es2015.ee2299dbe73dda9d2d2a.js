(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{QgiU:function(n,t,o){n.exports=function(){"use strict";return function(n,t,o){n=n||{};var e=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};o.en.relativeTime=i;var c=function(t,e,c,a){for(var r,l,g,s=c.$locale().relativeTime||i,p=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=p.length,m=0;m<d;m+=1){var b=p[m];b.d&&(r=a?o(t).diff(c,b.d,!0):c.diff(t,b.d,!0));var f=(n.rounding||Math.round)(Math.abs(r));if(g=r>0,f<=b.r||!b.r){f<=1&&m>0&&(b=p[m-1]);var u=s[b.l];l="string"==typeof u?u.replace("%d",f):u(f,e,b.l,g);break}}return e?l:(g?s.future:s.past).replace("%s",l)};e.to=function(n,t){return c(n,t,this,!0)},e.from=function(n,t){return c(n,t,this)};var a=function(n){return n.$u?o.utc():o()};e.toNow=function(n){return this.to(a(this),n)},e.fromNow=function(n){return this.from(a(this),n)}}}()},bkrf:function(n,t,o){"use strict";o.r(t),o.d(t,"DealsListingPageModule",(function(){return A}));var e=o("ofXK"),i=o("3Pt+"),c=o("tyNb"),a=o("tk/3"),r=o("TEn/"),l=o("j1ZV"),g=o("iTUp"),s=o("y+sA"),p=o("evT8"),d=o("SQnO"),m=o("fXoL"),b=o("B7gC"),f=o("2gss"),u=o("zK/y"),h=o("dAQS"),P=o("ykzn"),w=o("Wgwc"),C=o("QgiU");let M=(()=>{class n{transform(n){w.extend(C);let t="";if(n){const o=!(w(n).diff(w(),"day")<0);t=w().to(w(n),o)}return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=m.Jb({name:"appTimeAgo",type:n,pure:!0}),n})();const O=function(n){return["/app/categories/deals/",n]};function x(n,t){if(1&n&&(m.Qb(0,"ion-col",29),m.Qb(1,"ion-button",30),m.Qb(2,"span",31),m.yc(3,"CLAIM"),m.Pb(),m.Lb(4,"ion-icon",32),m.Pb(),m.Pb()),2&n){const n=m.cc().$implicit;m.zb(1),m.jc("routerLink",m.mc(1,O,n.slug))}}function _(n,t){1&n&&(m.Qb(0,"ion-col",29),m.Qb(1,"span",33),m.yc(2,"EXPIRED"),m.Pb(),m.Pb())}function v(n,t){if(1&n&&(m.Ob(0),m.Qb(1,"span",34),m.Lb(2,"app-text-shell",26),m.dc(3,"appTimeAgo"),m.Pb(),m.Nb()),2&n){const n=m.cc().$implicit;m.zb(2),m.jc("data",m.ec(3,1,n.expirationDate))}}const y=function(){return{from:"hour",to:"second"}};function D(n,t){if(1&n&&(m.Ob(0),m.Qb(1,"ion-row",35),m.Lb(2,"app-countdown-timer",36),m.Pb(),m.Nb()),2&n){const n=m.cc().$implicit;m.zb(2),m.jc("end",n.expirationDate)("units",m.lc(2,y))}}const k=function(n,t,o,e){return{ended:n,"imminent-end":t,"ends-soon":o,"distant-end":e}},z=function(){return{w:128,h:32}},Q=function(n){return{expired:n}},j=function(n){return{"countdown-active":n}};function T(n,t){if(1&n&&(m.Qb(0,"div",6),m.dc(1,"appTimeDifference"),m.dc(2,"appTimeDifference"),m.dc(3,"appTimeDifference"),m.dc(4,"appTimeDifference"),m.dc(5,"appTimeDifference"),m.dc(6,"appTimeDifference"),m.dc(7,"appTimeDifference"),m.Qb(8,"ion-row",7),m.Qb(9,"ion-col",8),m.Qb(10,"app-aspect-ratio",9),m.Lb(11,"app-image-shell",10),m.Pb(),m.Pb(),m.wc(12,x,5,3,"ion-col",11),m.dc(13,"appTimeDifference"),m.wc(14,_,3,0,"ion-col",11),m.dc(15,"appTimeDifference"),m.Pb(),m.Qb(16,"ion-row",12),m.Qb(17,"ion-col",13),m.Qb(18,"h4",14),m.Qb(19,"a",15),m.Lb(20,"app-text-shell",16),m.Pb(),m.Pb(),m.Qb(21,"p",17),m.Lb(22,"app-text-shell",18),m.Pb(),m.Pb(),m.Qb(23,"ion-col",19),m.Qb(24,"ion-button",20),m.Lb(25,"ion-icon",21),m.Pb(),m.Pb(),m.Pb(),m.Qb(26,"ion-row",22),m.Qb(27,"ion-col",23),m.Qb(28,"span",24),m.yc(29,"Use this code:"),m.Pb(),m.Qb(30,"span",25),m.dc(31,"appTimeDifference"),m.Lb(32,"app-text-shell",26),m.Pb(),m.Pb(),m.Qb(33,"ion-col",27),m.dc(34,"appTimeDifference"),m.dc(35,"appTimeDifference"),m.Qb(36,"span",28),m.yc(37),m.dc(38,"appTimeDifference"),m.Pb(),m.wc(39,v,4,3,"ng-container",4),m.dc(40,"appTimeDifference"),m.dc(41,"appTimeDifference"),m.wc(42,D,3,3,"ng-container",4),m.dc(43,"appTimeDifference"),m.dc(44,"appTimeDifference"),m.Pb(),m.Pb(),m.Pb()),2&n){const n=t.$implicit;m.jc("ngClass",m.oc(49,k,m.ec(1,15,n.expirationDate)<0,m.ec(2,17,n.expirationDate)>0&&m.ec(3,19,n.expirationDate)<=2,m.ec(4,21,n.expirationDate)>0&&m.ec(5,23,n.expirationDate)>2&&m.ec(6,25,n.expirationDate)<10,m.ec(7,27,n.expirationDate)>=10)),m.zb(10),m.jc("ratio",m.lc(54,z)),m.zb(1),m.jc("src",n.logo)("alt","deals logo"),m.zb(1),m.jc("ngIf",m.ec(13,29,n.expirationDate)>0),m.zb(2),m.jc("ngIf",m.ec(15,31,n.expirationDate)<0),m.zb(5),m.jc("routerLink",m.mc(55,O,n.slug)),m.zb(1),m.jc("data",n.name),m.zb(2),m.jc("data",n.description),m.zb(8),m.jc("ngClass",m.mc(57,Q,m.ec(31,33,n.expirationDate)<0)),m.zb(2),m.jc("data",n.code),m.zb(1),m.jc("ngClass",m.mc(59,j,m.ec(34,35,n.expirationDate)>0&&m.ec(35,37,n.expirationDate)<=2)),m.zb(4),m.Ac("DEAL ",m.ec(38,39,n.expirationDate)<0?"EXPIRED":"EXPIRES IN",":"),m.zb(2),m.jc("ngIf",m.ec(40,41,n.expirationDate)<0||m.ec(41,43,n.expirationDate)>2),m.zb(3),m.jc("ngIf",m.ec(43,45,n.expirationDate)>0&&m.ec(44,47,n.expirationDate)<=2)}}function L(n,t){if(1&n&&(m.Ob(0),m.wc(1,T,45,61,"div",5),m.Nb()),2&n){const n=m.cc();m.zb(1),m.jc("ngForOf",n.listing.items)}}let I=(()=>{class n{constructor(n){this.route=n}get isShell(){return!(!this.listing||!this.listing.isShell)}ngOnInit(){this.subscriptions=this.route.data.subscribe(n=>{this.subscriptions=p.a.extractData(n.data,d.a).subscribe(n=>{this.listing=n},n=>{})},n=>{})}ionViewWillLeave(){this.subscriptions.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m.Kb(c.a))},n.\u0275cmp=m.Eb({type:n,selectors:[["app-deals-listing"]],hostVars:2,hostBindings:function(n,t){2&n&&m.Bb("is-shell",t.isShell)},decls:8,vars:1,consts:[["color","primary"],["slot","start"],["defaultHref","app/categories"],[1,"deals-listing-content"],[4,"ngIf"],["class","listing-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"listing-item",3,"ngClass"],[1,"top-row"],["size","6",1,"logo-col"],[3,"ratio"],["animation","spinner",1,"deal-logo",3,"src","alt"],["class","call-to-action-col",4,"ngIf"],[1,"middle-row"],[1,"info-col"],[1,"item-name"],[1,"name-anchor",3,"routerLink"],["animation","bouncing",3,"data"],[1,"item-description"],["animation","bouncing","lines","3",3,"data"],["size","2"],["expand","block","fill","clear","color","claim",1,"bookmark-button"],["slot","icon-only","name","pricetag"],[1,"bottom-row"],[1,"code-wrapper"],[1,"code-cta"],[1,"item-code",3,"ngClass"],[3,"data"],["size","5",1,"time-left-wrapper",3,"ngClass"],[1,"expiration-cta"],[1,"call-to-action-col"],["expand","block","color","claim",1,"claim-button",3,"routerLink"],[1,"button-cta"],["slot","end","name","arrow-forward"],[1,"expired-cta"],[1,"item-time-left"],[1,"countdown-wrapper"],["fill","inner-time",1,"item-countdown",3,"end","units"]],template:function(n,t){1&n&&(m.Qb(0,"ion-header"),m.Qb(1,"ion-toolbar",0),m.Qb(2,"ion-buttons",1),m.Lb(3,"ion-back-button",2),m.Pb(),m.Qb(4,"ion-title"),m.yc(5,"Deals Listing"),m.Pb(),m.Pb(),m.Pb(),m.Qb(6,"ion-content",3),m.wc(7,L,2,1,"ng-container",4),m.Pb()),2&n&&(m.zb(7),m.jc("ngIf",null==t.listing?null:t.listing.items))},directives:[r.l,r.T,r.h,r.d,r.e,r.R,r.k,e.m,e.l,e.k,r.C,r.j,b.a,f.a,c.h,r.ab,u.a,r.g,r.m,c.g,h.a],pipes:[P.a,M],styles:["[_nghost-%COMP%]{--page-margin:var(--app-broad-margin);--page-background:var(--app-background-shade);--page-countdown-fill-shadow-color:rgba(var(--ion-color-darkest-rgb),0.2);--page-item-shadow-color:rgba(var(--ion-color-dark-rgb),.1);--page-deal-code-height:30px;--page-countdown-gutter:3px;--page-expired-color:var(--ion-color-medium-tint);--page-ends-soon-color:#ffab6b;--page-distant-end-color:#70df70;--page-deal-color:var(--ion-color-medium);--page-deal-border-color:var(--ion-color-light-shade);--page-color:#70df70;--ion-color-claim:#70df70;--ion-color-claim-rgb:112,223,112;--ion-color-claim-contrast:#fff;--ion-color-claim-contrast-rgb:255,255,255;--ion-color-claim-shade:#63c463;--ion-color-claim-tint:#7ee27e}[_nghost-%COMP%]   .ion-color-claim[_ngcontent-%COMP%]{--ion-color-base:var(--ion-color-claim)!important;--ion-color-base-rgb:var(--ion-color-claim-rgb)!important;--ion-color-contrast:var(--ion-color-claim-contrast)!important;--ion-color-contrast-rgb:var(--ion-color-claim-contrast-rgb)!important;--ion-color-shade:var(--ion-color-claim-shade)!important;--ion-color-tint:var(--ion-color-claim-tint)!important}.deals-listing-content[_ngcontent-%COMP%]{--background:var(--page-background)}.listing-item[_ngcontent-%COMP%]{background-color:var(--ion-color-lightest);margin:var(--page-margin);border-radius:var(--app-fair-radius);box-shadow:1px 1px 4px 1px var(--page-item-shadow-color);border-bottom:calc(var(--page-margin)/2*3) solid var(--page-deal-border-color)}.listing-item.ended[_ngcontent-%COMP%]{--page-deal-color:var(--page-expired-color);--page-deal-border-color:var(--page-expired-color);border-bottom-style:none}.listing-item.imminent-end[_ngcontent-%COMP%]{--page-deal-color:var(--page-ends-soon-color);--page-deal-border-color:var(--page-distant-end-color)}.listing-item.ends-soon[_ngcontent-%COMP%]{--page-deal-color:var(--page-ends-soon-color);--page-deal-border-color:var(--page-ends-soon-color);border-bottom-style:none}.listing-item.distant-end[_ngcontent-%COMP%]{--page-deal-color:var(--page-distant-end-color);--page-deal-border-color:var(--page-distant-end-color);border-bottom-style:none}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]{--ion-grid-column-padding:0px;border-bottom:2px dashed rgba(var(--ion-color-dark-rgb),.1);padding:calc(var(--page-margin)/2);justify-content:space-between;align-items:center}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .logo-col[_ngcontent-%COMP%]{align-self:center}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]{flex-grow:0}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .expired-cta[_ngcontent-%COMP%]{color:var(--page-expired-color);font-size:16px;font-weight:600;letter-spacing:.8px}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]{--box-shadow:none;--border-radius:var(--app-fair-radius);margin:0}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]:focus{outline:none}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]   .button-cta[_ngcontent-%COMP%]{display:block;line-height:18px;font-size:16px;font-weight:600}.listing-item[_ngcontent-%COMP%]   .top-row[_ngcontent-%COMP%]   .call-to-action-col[_ngcontent-%COMP%]   .claim-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]{--ion-grid-column-padding:0px;padding:calc(var(--page-margin)/2);padding-bottom:var(--page-margin)}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .info-col[_ngcontent-%COMP%]{padding-right:calc(var(--page-margin)/2)}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{margin:0;margin-bottom:calc(var(--page-margin)/2);color:var(--ion-color-dark-tint);font-size:16px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]   .name-anchor[_ngcontent-%COMP%]{display:block;text-decoration:none}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium-tint);font-size:14px}.listing-item[_ngcontent-%COMP%]   .middle-row[_ngcontent-%COMP%]   .bookmark-button[_ngcontent-%COMP%]{--padding-start:5px;--padding-end:5px;margin:0;font-size:16px}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]{--ion-grid-column-padding:0px;padding:0 calc(var(--page-margin)/2) calc(var(--page-margin)/2);justify-content:space-between}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .code-cta[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:5px;display:block}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .item-code[_ngcontent-%COMP%]{height:var(--page-deal-code-height);text-transform:uppercase;padding:calc(var(--page-margin)/4) calc(var(--page-margin)/2);border:2px solid var(--page-color);font-size:12px;font-weight:500;line-height:1;border-radius:calc(var(--page-deal-code-height)/2);display:flex;align-items:center;justify-content:center}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]   .item-code.expired[_ngcontent-%COMP%]{border-color:var(--page-expired-color);color:var(--page-expired-color);opacity:.6}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]{flex-shrink:0;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]   .expiration-cta[_ngcontent-%COMP%]{font-size:12px;font-weight:500;margin-bottom:5px;display:block;text-transform:uppercase;text-align:end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper[_ngcontent-%COMP%]:not(.countdown-active)   .item-time-left[_ngcontent-%COMP%]{color:var(--page-deal-color);font-size:14px;font-weight:500;display:block;text-align:end}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]{display:block;position:relative}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;position:absolute;right:0}.listing-item[_ngcontent-%COMP%]   .bottom-row[_ngcontent-%COMP%]   .time-left-wrapper.countdown-active[_ngcontent-%COMP%]   .countdown-wrapper[_ngcontent-%COMP%]   app-countdown-timer.item-countdown[_ngcontent-%COMP%]{--countdown-time-margin:0px;--countdown-time-padding:0px;--countdown-inner-time-margin:var(--page-countdown-gutter) var(--page-countdown-gutter) 0px;--countdown-inner-time-padding:calc(var(--page-margin)/2) calc(var(--page-margin)/4);--countdown-fill-border:none;--countdown-fill-border-radius:var(--app-narrow-radius);--countdown-fill-background:var(--ion-color-lightest);--countdown-fill-shadow:0px 0px 5px 0px var(--page-countdown-fill-shadow-color);--countdown-value-color:var(--ion-color-darkest);--countdown-unit-color:var(--ion-color-medium-shade);--countdown-time-flex-direction:column;font-weight:500;font-size:14px;margin-right:calc(var(--page-countdown-gutter)*-1)}","[_nghost-%COMP%]{--shell-color:#70df70;--shell-color-rgb:112,223,112}app-image-shell.deal-logo[_ngcontent-%COMP%]{--image-shell-loading-background:rgba(var(--shell-color-rgb),.10);--image-shell-spinner-color:rgba(var(--shell-color-rgb),.30);--image-shell-spinner-size:18px}.item-name[_ngcontent-%COMP%]   app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color:rgba(var(--shell-color-rgb),.30);--text-shell-line-height:16px}.item-description[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color:rgba(var(--shell-color-rgb),.20);--text-shell-line-height:14px}.item-code[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color:rgba(var(--shell-color-rgb),.15);--text-shell-line-height:14px;min-width:60px}.item-code[_ngcontent-%COMP%] > app-text-shell.text-loaded[_ngcontent-%COMP%]{min-width:0}.item-time-left[_ngcontent-%COMP%] > app-text-shell[_ngcontent-%COMP%]{--text-shell-line-color:rgba(var(--shell-color-rgb),.10);--text-shell-line-height:14px;min-width:60px}.item-time-left[_ngcontent-%COMP%] > app-text-shell.text-loaded[_ngcontent-%COMP%]{min-width:0}",".ios[_nghost-%COMP%]   .claim-button[_ngcontent-%COMP%], .ios   [_nghost-%COMP%]   .claim-button[_ngcontent-%COMP%]{height:2.2em}"]}),n})(),S=(()=>{class n{constructor(n){this.dealsService=n}resolve(){const n=this.dealsService.getListingDataSource();return this.dealsService.getListingStore(n)}}return n.\u0275fac=function(t){return new(t||n)(m.Ub(s.a))},n.\u0275prov=m.Gb({token:n,factory:n.\u0275fac}),n})();const E=[{path:"",component:I,resolve:{data:S}}];let A=(()=>{class n{}return n.\u0275mod=m.Ib({type:n}),n.\u0275inj=m.Hb({factory:function(t){return new(t||n)},providers:[S,s.a],imports:[[e.c,i.f,r.U,c.i.forChild(E),l.a,g.a,a.b]]}),n})()}}]);